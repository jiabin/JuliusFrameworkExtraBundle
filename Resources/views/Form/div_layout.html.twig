{% block julius_datetimepicker_widget %}
{% spaceless %}
    {% set type = type|default('text') %}
    <div class="input-append">
        {% set fieldId = "julius-datetimepicker-" ~ random() %}
        <input type="text" id="{{ fieldId }}"{% if read_only %} readonly="readonly"{% endif %}{% if disabled %} disabled="disabled"{% endif %}{% if required %} required="required"{% endif %} {% for attrname, attrvalue in attr %}{% if attrname in ['placeholder', 'title'] %}{{ attrname }}="{{ attrvalue|trans({}, translation_domain) }}" {% else %}{{ attrname }}="{{ attrvalue }}" {% endif %}{% endfor %} autocomplete="off" />
        <input type="hidden" id="{{ id }}" name="{{ full_name }}"{% if disabled %} disabled="disabled"{% endif %}{% if required %} required="required"{% endif %} {% if value is not empty %}value="{{ value }}"{% endif %} />
        <span class="add-on"><i class="icon-th"></i></span>
    </div>
    <script>
    $(document).ready(function() {
        $("#{{ fieldId }}").datetimepicker({
            format: "{{ format }}",
            weekStart: {{ weekStart }},
            daysOfWeekDisabled: {{ daysOfWeekDisabled|json_encode() }},
            autoclose: {{ autoclose }},
            startView: {{ startView }},
            minView: {{ minView }},
            maxView: {{ maxView }},
            todayBtn: {{ todayBtn }},
            todayHighlight: {{ todayHighlight }},
            keyboardNavigation: {{ keyboardNavigation }},
            language: "{{ language }}",
            minuteStep: {{ minuteStep }},
            pickerPosition: "{{ pickerPosition }}",
            showMeridian: {{ showMeridian }},

            {% if value is not empty %}initialDate: new Date('{{ value }}'),{% endif %}

            linkField: "{{ id }}",
            linkFormat: "yyyy-mm-dd hh:ii"
        });
        {% if required or value is not empty %}
        $("#{{ fieldId }}").datetimepicker('setDate', new Date({% if value is not empty %}'{{ value }}'{% endif %}));
        {% endif %}
    });
    </script>
{% endspaceless %}
{% endblock %}